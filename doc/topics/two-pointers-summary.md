# 雙指針 (Two Pointers) 總結篇
> 雙指針（Two Pointers）是一種高效技巧，常用於處理陣列、字串、鏈表與 N 數之和類問題。其核心在於透過兩個指針協同遍歷，以達成優化時間複雜度的目的。

整理重點包含四部分：

- [雙指針通用模式](#雙指針通用模式)
- [雙指針常見應用模式](#雙指針常見應用模式)
- [LeetCode 題型分類與技巧](#LeetCode題型分類與技巧)
- [已解題目彙總](#已解題目彙總)

---

## 雙指針通用模式
（適用於字元交換、區間反轉等場景）

- 指針初始化：left = 0, right = n - 1
- 邊界條件：while (left < right)
- 動作：交換 left 和 right 的值，然後雙向移動

## 雙指針常見應用模式
| 類型   | 技巧描述                                 |
|------|--------------------------------------|
| 快慢指針 | 判斷循環、尋找中點，例如鏈表是否有環                   |
| 左右夾逼 | 解排序後的陣列或字串問題（例如總和為定值、反轉）             |
| 滑動窗口 | 當需同時追蹤某區間元素狀態，如最長子陣列、最短子字串           |
| 前後遍歷 | 處理替換、覆蓋等需擴充或壓縮內容的問題                  |
| 原地修改 | 透過雙指針避開 erase、insert 等 O(n) 操作，提升效率。 |
| 反向填充 | 處理字串替換時常需擴容並自尾部向前操作，避免覆蓋原資料。         |

## LeetCode題型分類與技巧

### 陣列類

- #27 Remove Element
  - 雙指針法：慢指針覆蓋需移除的元素，O(n)。 
  - 避免使用 erase() 導致 O(n²)。

### 字串類

- #344 Reverse String
  - 雙指針從左右兩端向中間移動，交換字元，實現原地反轉。
  - Time: O(n), Space: O(1)

- #1108 Defanging an IP Address
  - 雖非典型雙指針題，但若禁止額外空間，可使用雙指針從後往前填充 `%20`，類似「空格替換」類問題。

- #151 Reverse Words in a String
  - 使用雙指針刪除多餘空格並反轉整體與單字，分步操作提升效率，效率優於多次 erase()。
  - Time: O(n), Space: O(1)（若原地處理）

### 鏈表類: #206, #142

- #206 Reverse Linked List 反轉鏈表
  - 雙指針（prev, curr）調整指向，逐步反轉 next。
  - Time: O(n), Space: O(1)

- #142 Linked List Cycle II 檢測環
  - 快慢指針（slow, fast）判斷是否有環，利用數學推導定位入環點。 
  - Time: O(n), Space: O(1)

### N 數之和類: #15, #18

- #15 Three Sum 三數之和
  - 外層固定一數，內層雙指針逼近，並處理重複。 
  - Space: O(1), Time: O(n²)，較雜湊解法更穩定且可剪枝。 
- #18 Four Sum 四數之和
  - 在 3Sum 基礎上多一層迴圈，進行兩層指針組合。需小心去重與溢位。
  - Space: O(1), Time: O(n³)（不含輸出）

## 已解題目彙總

| 題號   | 題目名稱                      | 解法概念       | 核心說明                                                |
|------|---------------------------|------------|-----------------------------------------------------|
| 344  | Reverse String            | 雙指針、原地交換   | 從兩端向中間移動指針，交換字元達成反轉，O(n) 時間、O(1) 空間                 |
| 1108 | Defanging an IP Address   | 模擬、字串構建    | 遍歷字串插入替代字元，可用 `StringBuilder` 模擬，非典型雙指針             |
| 151  | Reverse Words in a String | 雙指針、反轉、去空格 | 移除多餘空格後整體反轉，再逐一反轉單字，需處理空格與順序                        |
| 206  | Reverse Linked List       | 雙指針、迭代     | 使用 `prev` 與 `curr` 調整 `next` 指向實現反轉，O(n) 時間、O(1) 空間 |
| 142  | Linked List Cycle II      | 快慢指針、數學推導  | 判斷是否有環後重新走訪定位入環點，需理解數學公式與相遇原理                       |
| 15   | 3Sum                      | 雙指針、排序     | 固定一點後左右夾逼找兩數和，需去重處理，時間複雜度 O(n²)                     |
| 18   | 4Sum                      | 雙指針、排序、窮舉  | 兩層迴圈固定 + 兩端指針，時間複雜度 O(n³)，需處理邊界與去重                  |


## 總結

- 雙指針能有效降低時間複雜度，常由 O(n²) 降為 O(n)。 
- 題型多數可預先排序再使用雙指針以利剪枝。 
- 鏈表類操作多仰賴指標移動，需注意 null 判斷。 
- 字串操作時空間限制題目（如「原地」）更適合雙指針。 
- 熟練掌握雙指針能應對 LeetCode 多數基礎與進階題目。