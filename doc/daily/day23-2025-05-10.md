# LeetCode 60 天挑戰 Day23 | Binary Tree Part III

# 今日任務

- LC559. Maximum Depth of N-ary Tree (N 元樹的最大深度)
- LC222. Count Complete Tree Nodes
- LC110. Balanced Binary Tree
- LC257. Binary Tree Paths
- LC404. Sum of Left Leaves

---

# LC559. Maximum Depth of N-ary Tree (N 元樹的最大深度)

## 題目說明
給定一棵 N 元樹（每個節點可有 0~N 個子節點），求出其最大深度（從根節點到最遠葉節點的節點數）。

### 延伸說明
- 本題為 LC104（二元樹最大深度）在 N 元樹的擴展版本
- 若對題型不熟悉，可先複習 LC104
  - 筆記: [binary-tree-traversal-bfs-level-order.md](../binary-tree-traversal-bfs-level-order.md)

---

## 解法一：DFS 遞迴 - 後序遍歷（左右中）

### 思路：

- 前序求的是「深度」，使用後序求的是「高度」。
  - 深度: `root node` 到 `該 node` 的最長簡單**路徑邊的條數** or **節點數**。
  - 高度: `該 node` 到 `leaf node` 的最長簡單**路徑邊的條數** or **節點數**。
- **`root node`的「高度」即為整棵樹的最大「深度」**，本題利用後序遍歷（左右中）計算節點的「高度」。

#### 深度與高度範例

```
        1
      / | \
     2  3  4
        |
        5
```
- 節點 5 的深度是 3（從 1 開始數節點數）
- 節點 1 的高度是 3（到 5 最遠路徑長度）
- 整棵樹的最大深度 = 根節點高度 = 3

### 遞迴三部曲：
1. 回傳值與參數：回傳最大深度；傳入節點。
2. 終止條件：
    - 若節點為空，回傳 0。
    - 若為葉節點（無子節點），回傳 1。
3. 遞迴邏輯：遞迴左右子樹，取其最大值加 1，即為當前節點的深度。

### 筆記
- 與 LC104 相似，不同之處在於每個節點可有多個子節點
- 遞迴方式簡潔易懂，適合用於樹形結構

### Java 實作

```java
class Solution {
    public int maxDepth(Node root) {
        if (root == null) return 0;
        int max = 0;
        for (Node child : root.children) {
            max = Math.max(max, maxDepth(child));
        }
        return max + 1;
    }
}
```

### 複雜度分析
- Time: O(n)，每個節點只遍歷一次
- Space: O(h)，h 為樹高（遞迴堆疊深度）

---

## 其他解法筆記

- 解法與 LC104 相同，僅需將 binary tree 左右節點改為 children list 遍歷，因此實作略去，可參考 LC104 的程式碼變體。

### 解法核心總結
| 方法        | 關鍵遍歷方式       | 思考方式         | 備註             |
|-----------|--------------|--------------|----------------|
| 後序遞迴      | 左右中（子節點 → 中） | 返回左右子樹高度 + 1 | 最常見也最簡潔的寫法     |
| 前序遞迴      | 中左右（中 → 子節點） | 深度參數傳遞與回溯    | 適合理解深度回溯邏輯     |
| 層序遍歷（BFS） | 一層一層         | 每層遍歷並計算層數    | 與「最大深度 = 層數」吻合 |

---

## Java 程式碼連結
- 題目實作：[ID559MaximumDepthOfNAryTree.java](../../src/main/java/io/github/monty/leetcode/binarytree/ID559MaximumDepthOfNAryTree.java)
- 單元測試：[ID559MaximumDepthOfNAryTreeTest.java](../../src/test/java/io/github/monty/leetcode/binarytree/ID559MaximumDepthOfNAryTreeTest.java)
